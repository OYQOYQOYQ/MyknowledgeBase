# Unity GameObjecté™æ€æ–¹æ³•è¯¦è§£

## ä¸€ã€é™æ€æ–¹æ³•æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯é™æ€æ–¹æ³•

**é™æ€æ–¹æ³•**æ˜¯ç›´æ¥å…³è”åˆ°ç±»æœ¬èº«è€Œéç±»çš„å®ä¾‹çš„æ–¹æ³•ã€‚åœ¨Unityä¸­ï¼ŒGameObjectçš„é™æ€æ–¹æ³•å…è®¸æˆ‘ä»¬åœ¨ä¸ä¾èµ–ç‰¹å®šGameObjectå®ä¾‹çš„æƒ…å†µä¸‹æ‰§è¡Œæ“ä½œï¼Œå¦‚åˆ›å»ºå¯¹è±¡ã€æŸ¥æ‰¾å¯¹è±¡å’Œé”€æ¯å¯¹è±¡ç­‰ã€‚

> ğŸ’¡ **æ ¸å¿ƒä»·å€¼**ï¼šé™æ€æ–¹æ³•æä¾›äº†ä¸€ç§**å…¨å±€è®¿é—®**çš„æ–¹å¼ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæ“ä½œæ•´ä¸ªåœºæ™¯ä¸­çš„å¯¹è±¡ï¼Œè€Œä¸å¿…ä¾èµ–äºç‰¹å®šçš„GameObjectå®ä¾‹ã€‚

---

## äºŒã€å¸¸ç”¨é™æ€æ–¹æ³•è¯¦è§£

### 2.1 åˆ›å»ºå‡ ä½•ä½“ - CreatePrimitive

**ä½œç”¨**ï¼šåˆ›å»ºUnityå†…ç½®çš„å‡ ä½•ä½“ï¼ˆå¦‚ç«‹æ–¹ä½“ã€çƒä½“ã€åœ†æŸ±ä½“ç­‰ï¼‰ã€‚

```csharp
// åˆ›å»ºç«‹æ–¹ä½“
GameObject cube = GameObject.CreatePrimitive(PrimitiveType.Cube);

// åˆ›å»ºçƒä½“
GameObject sphere = GameObject.CreatePrimitive(PrimitiveType.Sphere);

// ä¿®æ”¹åˆ›å»ºçš„å‡ ä½•ä½“åç§°
sphere.name = "PlayerSphere";
```

> ğŸŒŸ **å…³é”®ç‚¹**ï¼š
> - è¿”å›ç±»å‹ä¸º`GameObject`ï¼Œå¯ä»¥å­˜å‚¨ä¸ºå˜é‡
> - åˆ›å»ºçš„å‡ ä½•ä½“é»˜è®¤å¸¦æœ‰ç½‘æ ¼æ¸²æŸ“å™¨å’Œç¢°æ’ä½“
> - å¯ä»¥é€šè¿‡`name`å±æ€§ä¿®æ”¹åç§°
> - é€šè¿‡`GetComponent`è·å–é™„åŠ çš„ç»„ä»¶

---

### 2.2 æŸ¥æ‰¾å¯¹è±¡ - Find, FindWithTag, FindGameObjectsWithTag

#### 2.2.1 Find - é€šè¿‡åç§°æŸ¥æ‰¾å¯¹è±¡

**ä½œç”¨**ï¼šé€šè¿‡å¯¹è±¡åç§°æŸ¥æ‰¾åœºæ™¯ä¸­çš„å•ä¸ªå¯¹è±¡ã€‚

```csharp
// æŸ¥æ‰¾åä¸º"Player"çš„å¯¹è±¡
GameObject player = GameObject.Find("Player");

// å®‰å…¨æ£€æŸ¥
if (player != null)
{
    Debug.Log("æ‰¾åˆ°ç©å®¶å¯¹è±¡: " + player.name);
}
else
{
    Debug.LogWarning("æœªæ‰¾åˆ°åä¸ºPlayerçš„å¯¹è±¡");
}
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - ä¼šéå†**æ‰€æœ‰**åœºæ™¯å¯¹è±¡ï¼Œæ€§èƒ½è¾ƒä½
> - **æ— æ³•æŸ¥æ‰¾å¤±æ´»å¯¹è±¡**ï¼ˆinactive objectsï¼‰
> - å¦‚æœæœ‰å¤šä¸ªåŒåå¯¹è±¡ï¼Œè¿”å›çš„æ˜¯**éšæœº**ä¸€ä¸ª

#### 2.2.2 FindWithTag - é€šè¿‡æ ‡ç­¾æŸ¥æ‰¾å¯¹è±¡

**ä½œç”¨**ï¼šé€šè¿‡æ ‡ç­¾æŸ¥æ‰¾åœºæ™¯ä¸­çš„å•ä¸ªå¯¹è±¡ã€‚

```csharp
// æŸ¥æ‰¾æ ‡ç­¾ä¸º"Player"çš„å¯¹è±¡
GameObject player = GameObject.FindWithTag("Player");

// å®‰å…¨æ£€æŸ¥
if (player != null)
{
    Debug.Log("æ‰¾åˆ°ç©å®¶å¯¹è±¡: " + player.name);
}
else
{
    Debug.LogWarning("æœªæ‰¾åˆ°æ ‡ç­¾ä¸ºPlayerçš„å¯¹è±¡");
}
```

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - ä½¿ç”¨æ ‡ç­¾æ¯”ä½¿ç”¨åç§°æ›´å¯é 
> - æ ‡ç­¾åœ¨Unityç¼–è¾‘å™¨ä¸­é¢„å…ˆå®šä¹‰ï¼ˆInspector â†’ Tagï¼‰

#### 2.2.3 FindGameObjectsWithTag - é€šè¿‡æ ‡ç­¾æŸ¥æ‰¾å¤šä¸ªå¯¹è±¡

**ä½œç”¨**ï¼šé€šè¿‡æ ‡ç­¾æŸ¥æ‰¾åœºæ™¯ä¸­çš„å¤šä¸ªå¯¹è±¡ã€‚

```csharp
// æŸ¥æ‰¾æ‰€æœ‰æ ‡ç­¾ä¸º"Enemy"çš„å¯¹è±¡
GameObject[] enemies = GameObject.FindGameObjectsWithTag("Enemy");

// éå†æ‰€æœ‰æ•Œäºº
foreach (GameObject enemy in enemies)
{
    Debug.Log("æ‰¾åˆ°æ•Œäºº: " + enemy.name);
}

// æ£€æŸ¥æ˜¯å¦æœ‰æ•Œäºº
if (enemies.Length > 0)
{
    Debug.Log("å…±æœ‰" + enemies.Length + "ä¸ªæ•Œäºº");
}
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - **åªèƒ½é€šè¿‡æ ‡ç­¾æŸ¥æ‰¾å¤šä¸ªå¯¹è±¡**
> - è¿”å›ç±»å‹ä¸º`GameObject[]`ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„
> - ä¼šéå†æ‰€æœ‰åœºæ™¯å¯¹è±¡ï¼Œæ€§èƒ½è¾ƒä½

---

### 2.3 å®ä¾‹åŒ–å¯¹è±¡ - Instantiate

**ä½œç”¨**ï¼šåˆ›å»ºç°æœ‰GameObjectçš„å‰¯æœ¬ï¼ˆå…‹éš†ï¼‰ã€‚

```csharp
// å®ä¾‹åŒ–ä¸€ä¸ªé¢„è®¾ä½“ï¼ˆæˆ–ç°æœ‰å¯¹è±¡ï¼‰
GameObject clone = GameObject.Instantiate(original);

// å®ä¾‹åŒ–å¹¶è®¾ç½®ä½ç½®
GameObject cloneWithPosition = GameObject.Instantiate(original, new Vector3(0, 1, 0), Quaternion.identity);

// ç®€å†™å½¢å¼ï¼ˆç»§æ‰¿è‡ªMonoBehaviourçš„è„šæœ¬ä¸­ï¼‰
GameObject clone = Instantiate(original);
```

> ğŸŒŸ **å…³é”®ç‚¹**ï¼š
> - `Instantiate`æ˜¯`Object`ç±»çš„é™æ€æ–¹æ³•ï¼Œå› æ­¤åœ¨`MonoBehaviour`è„šæœ¬ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨
> - ä¼ å…¥çš„å¯¹è±¡å¯ä»¥æ˜¯åœºæ™¯ä¸­çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯é¢„è®¾ä½“
> - å¯ä»¥æŒ‡å®šä½ç½®ã€æ—‹è½¬å’Œçˆ¶çº§
> - è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡

---

### 2.4 åˆ é™¤å¯¹è±¡ - Destroy, DestroyImmediate

#### 2.4.1 Destroy - å»¶è¿Ÿåˆ é™¤

**ä½œç”¨**ï¼šåˆ é™¤æŒ‡å®šå¯¹è±¡ï¼Œå¯ä»¥æŒ‡å®šå»¶è¿Ÿæ—¶é—´ã€‚

```csharp
// ç«‹å³åˆ é™¤
GameObject.Destroy(gameObject);

// 3ç§’ååˆ é™¤
GameObject.Destroy(gameObject, 3.0f);
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - ä¸ä¼šç«‹å³åˆ é™¤å¯¹è±¡ï¼Œè€Œæ˜¯**æ ‡è®°ä¸ºåˆ é™¤**ï¼Œåœ¨ä¸‹ä¸€å¸§å¤„ç†
> - ç”¨äºé¿å…å¡é¡¿ï¼Œæ˜¯**æ¨è**çš„åˆ é™¤æ–¹å¼
> - å¯ä»¥åˆ é™¤å¯¹è±¡æˆ–è„šæœ¬ç»„ä»¶ï¼ˆ`Destroy(this)`ï¼‰

#### 2.4.2 DestroyImmediate - ç«‹å³åˆ é™¤

**ä½œç”¨**ï¼š**ç«‹å³**åˆ é™¤æŒ‡å®šå¯¹è±¡ã€‚

```csharp
// ç«‹å³åˆ é™¤
GameObject.DestroyImmediate(gameObject);
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - **ä¸æ¨è**åœ¨å¸¸è§„æ¸¸æˆä¸­ä½¿ç”¨
> - ä¼š**ç«‹å³**ä»å†…å­˜ä¸­ç§»é™¤å¯¹è±¡ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜
> - é€šå¸¸ç”¨äºç‰¹æ®Šåœºæ™¯ï¼Œå¦‚ç¼–è¾‘å™¨è„šæœ¬

---

### 2.5 è¿‡åœºæ™¯ä¸ç§»é™¤ - DontDestroyOnLoad

**ä½œç”¨**ï¼šä½¿å¯¹è±¡åœ¨åœºæ™¯åˆ‡æ¢æ—¶**ä¸è¢«é”€æ¯**ã€‚

```csharp
// ä½¿å½“å‰å¯¹è±¡åœ¨åœºæ™¯åˆ‡æ¢æ—¶ä¸è¢«é”€æ¯
GameObject.DontDestroyOnLoad(gameObject);
```

> ğŸ’¡ **ä½¿ç”¨åœºæ™¯**ï¼š
> - éŸ³ä¹æ’­æ”¾å™¨ï¼ˆèƒŒæ™¯éŸ³ä¹ï¼‰
> - æ¸¸æˆç®¡ç†å™¨ï¼ˆGameManagerï¼‰
> - ä¿å­˜æ¸¸æˆçŠ¶æ€çš„å¯¹è±¡
> - éœ€è¦è·¨åœºæ™¯å…±äº«çš„æ•°æ®

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - ä»…åœ¨**åœºæ™¯åˆ‡æ¢**æ—¶æœ‰æ•ˆ
> - å¦‚æœå¯¹è±¡åœ¨å¤šä¸ªåœºæ™¯ä¸­éƒ½è®¾ç½®äº†`DontDestroyOnLoad`ï¼Œå®ƒä¼šä¸€ç›´å­˜åœ¨
> - éœ€è¦ç¡®ä¿åœ¨åœºæ™¯åˆ‡æ¢æ—¶æ­£ç¡®å¤„ç†

---

## ä¸‰ã€å®ç”¨ç¤ºä¾‹

### 3.1 åˆ›å»ºå¹¶æ“ä½œå‡ ä½•ä½“

```csharp
using UnityEngine;

public class GeometryCreator : MonoBehaviour
{
    void Start()
    {
        // åˆ›å»ºç«‹æ–¹ä½“
        GameObject cube = GameObject.CreatePrimitive(PrimitiveType.Cube);
        cube.name = "GameCube";
        cube.transform.position = new Vector3(0, 1, 0);
        
        // åˆ›å»ºçƒä½“
        GameObject sphere = GameObject.CreatePrimitive(PrimitiveType.Sphere);
        sphere.name = "GameSphere";
        sphere.transform.position = new Vector3(2, 1, 0);
        
        // è·å–çƒä½“çš„ç¢°æ’ä½“
        SphereCollider sphereCollider = sphere.GetComponent<SphereCollider>();
        if (sphereCollider != null)
        {
            sphereCollider.radius = 1.5f;
        }
    }
}
```

---

### 3.2 å¯¹è±¡æŸ¥æ‰¾ä¸ä½¿ç”¨

```csharp
using UnityEngine;

public class ObjectFinder : MonoBehaviour
{
    void Start()
    {
        // é€šè¿‡åç§°æŸ¥æ‰¾
        GameObject player = GameObject.Find("Player");
        if (player != null)
        {
            Debug.Log("é€šè¿‡åç§°æ‰¾åˆ°ç©å®¶: " + player.name);
        }
        
        // é€šè¿‡æ ‡ç­¾æŸ¥æ‰¾
        GameObject playerWithTag = GameObject.FindWithTag("Player");
        if (playerWithTag != null)
        {
            Debug.Log("é€šè¿‡æ ‡ç­¾æ‰¾åˆ°ç©å®¶: " + playerWithTag.name);
        }
        
        // æŸ¥æ‰¾å¤šä¸ªå¯¹è±¡
        GameObject[] enemies = GameObject.FindGameObjectsWithTag("Enemy");
        Debug.Log("æ‰¾åˆ°" + enemies.Length + "ä¸ªæ•Œäºº");
        
        // éå†æ•Œäºº
        foreach (GameObject enemy in enemies)
        {
            // å¯¹æ¯ä¸ªæ•Œäººæ‰§è¡Œæ“ä½œ
            enemy.GetComponent<EnemyAI>().Activate();
        }
    }
}
```

---

### 3.3 å®ä¾‹åŒ–ä¸åˆ é™¤å¯¹è±¡

```csharp
using UnityEngine;

public class ObjectSpawner : MonoBehaviour
{
    public GameObject enemyPrefab; // é¢„è®¾ä½“å¼•ç”¨
    
    void Update()
    {
        // æ¯ç§’åˆ›å»ºä¸€ä¸ªæ•Œäºº
        if (Input.GetKeyDown(KeyCode.Space))
        {
            // å®ä¾‹åŒ–æ•Œäºº
            GameObject enemy = Instantiate(enemyPrefab, 
                new Vector3(Random.Range(-5, 5), 1, Random.Range(-5, 5)),
                Quaternion.identity);
            
            // 5ç§’ååˆ é™¤
            Destroy(enemy, 5.0f);
        }
    }
}
```

---

### 3.4 åœºæ™¯åˆ‡æ¢æ—¶ä¿ç•™å¯¹è±¡

```csharp
using UnityEngine;

public class GameManager : MonoBehaviour
{
    public static GameManager instance;
    
    void Awake()
    {
        // ç¡®ä¿åªæœ‰ä¸€ä¸ªGameManagerå®ä¾‹
        if (instance == null)
        {
            instance = this;
            // ä½¿GameManageråœ¨åœºæ™¯åˆ‡æ¢æ—¶ä¸è¢«é”€æ¯
            DontDestroyOnLoad(gameObject);
        }
        else
        {
            Destroy(gameObject);
        }
    }
    
    void Start()
    {
        // åˆå§‹åŒ–æ¸¸æˆæ•°æ®
        InitializeGame();
    }
    
    void InitializeGame()
    {
        // æ¸¸æˆåˆå§‹åŒ–é€»è¾‘
        Debug.Log("æ¸¸æˆåˆå§‹åŒ–å®Œæˆ");
    }
}
```

---

## å››ã€æœ€ä½³å®è·µä¸å¸¸è§é”™è¯¯

### 4.1 æ€§èƒ½è€ƒè™‘

| æ–¹æ³• | æ€§èƒ½ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `Find` | ä½ | ä»…åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨ |
| `FindWithTag` | ä½ | ä»…åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨ |
| `FindGameObjectsWithTag` | ä½ | ä»…åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨ |
| `Instantiate` | ä¸­ | é¢‘ç¹å®ä¾‹åŒ–æ—¶éœ€æ³¨æ„ |
| `Destroy` | é«˜ | æ¨èä½¿ç”¨ |
| `DestroyImmediate` | é«˜ | ä»…åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨ |

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - **é¿å…åœ¨Updateä¸­ä½¿ç”¨`Find`æˆ–`FindWithTag`**
> - ä½¿ç”¨`DontDestroyOnLoad`æ—¶ï¼Œç¡®ä¿å¯¹è±¡ä¸ä¼šè¢«æ„å¤–åˆ›å»ºå¤šä¸ª
> - å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨å¯¹è±¡æ± ï¼ˆObject Poolingï¼‰ä¼˜åŒ–æ€§èƒ½

---

### 4.2 å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ

| é”™è¯¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| `GameObject.Find("Player")` åœ¨Updateä¸­è°ƒç”¨ | æ¯å¸§æŸ¥æ‰¾ï¼Œæ€§èƒ½ä½ä¸‹ | ä»…åœ¨Awake/Startä¸­æŸ¥æ‰¾ï¼Œå­˜å‚¨å¼•ç”¨ |
| `Destroy(gameObject)` åœ¨Updateä¸­è°ƒç”¨ | å¯èƒ½å¯¼è‡´å¯¹è±¡è¢«æ„å¤–åˆ é™¤ | ç¡®ä¿åœ¨æ­£ç¡®æ—¶æœºè°ƒç”¨ |
| `DontDestroyOnLoad` åœ¨å¤šä¸ªåœºæ™¯ä¸­é‡å¤è°ƒç”¨ | åˆ›å»ºå¤šä¸ªGameManagerå®ä¾‹ | ä½¿ç”¨å•ä¾‹æ¨¡å¼ç¡®ä¿å”¯ä¸€æ€§ |
| `Instantiate` æ—¶æœªæŒ‡å®šä½ç½® | å¯¹è±¡å¯èƒ½å‡ºç°åœ¨é”™è¯¯ä½ç½® | æ˜ç¡®æŒ‡å®šä½ç½®ã€æ—‹è½¬å’Œçˆ¶çº§ |
| `FindGameObjectsWithTag` è¿”å›ç©ºæ•°ç»„ | æ ‡ç­¾æœªæ­£ç¡®è®¾ç½® | æ£€æŸ¥æ ‡ç­¾æ˜¯å¦åœ¨Inspectorä¸­æ­£ç¡®è®¾ç½® |

---

## äº”ã€æ€»ç»“ï¼šGameObjecté™æ€æ–¹æ³•é»„é‡‘æ³•åˆ™

1. **`CreatePrimitive`**ï¼šåˆ›å»ºå†…ç½®å‡ ä½•ä½“ï¼Œ**ä¸è¦**åœ¨Updateä¸­é¢‘ç¹ä½¿ç”¨
2. **`Find`**ï¼š**é¿å…**åœ¨Updateä¸­ä½¿ç”¨ï¼Œä»…åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨
3. **`FindWithTag`**ï¼š**æ¨è**ç”¨äºæŸ¥æ‰¾å•ä¸ªå¯¹è±¡ï¼Œæ¯”`Find`æ›´å¯é 
4. **`FindGameObjectsWithTag`**ï¼š**ä»…**ç”¨äºæŸ¥æ‰¾å¤šä¸ªå¯¹è±¡
5. **`Instantiate`**ï¼šå®ä¾‹åŒ–å¯¹è±¡çš„**é¦–é€‰**æ–¹æ³•
6. **`Destroy`**ï¼š**æ¨è**çš„åˆ é™¤æ–¹å¼ï¼Œé¿å…å¡é¡¿
7. **`DestroyImmediate`**ï¼š**ä»…**åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä½¿ç”¨
8. **`DontDestroyOnLoad`**ï¼šä½¿å¯¹è±¡**è·¨åœºæ™¯**ä¿ç•™ï¼Œ**åŠ¡å¿…**ä½¿ç”¨å•ä¾‹æ¨¡å¼

> âœ¨ **ç»ˆææç¤º**ï¼š  
> "GameObjecté™æ€æ–¹æ³•æ˜¯Unityä¸­**å…¨å±€æ“ä½œ**çš„æ¡¥æ¢ï¼Œ  
> ç†è§£å®ƒä»¬ï¼Œä½ å°±èƒ½åœ¨åœºæ™¯ä¸­**è‡ªç”±åœ°åˆ›å»ºã€æŸ¥æ‰¾å’Œé”€æ¯**å¯¹è±¡ï¼›  
> ç”¨å¥½å®ƒä»¬ï¼Œä½ çš„æ¸¸æˆå°†æ›´åŠ **çµæ´»è€Œé«˜æ•ˆ**ï¼"