# Unity GameObjectæˆå‘˜æ–¹æ³•è¯¦è§£

## ä¸€ã€æˆå‘˜æ–¹æ³•æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯æˆå‘˜æ–¹æ³•

**æˆå‘˜æ–¹æ³•**æ˜¯ä¸GameObjectå®ä¾‹ç›¸å…³è”çš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç‰¹å®šçš„GameObjectå®ä¾‹ä¸Šè°ƒç”¨ã€‚ä¸é™æ€æ–¹æ³•ä¸åŒï¼Œæˆå‘˜æ–¹æ³•æ“ä½œçš„æ˜¯**å…·ä½“çš„å¯¹è±¡å®ä¾‹**ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç±»ã€‚

> ğŸ’¡ **æ ¸å¿ƒä»·å€¼**ï¼šæˆå‘˜æ–¹æ³•ä½¿æˆ‘ä»¬èƒ½å¤Ÿç›´æ¥æ“ä½œ**ç‰¹å®šå¯¹è±¡**çš„å±æ€§å’Œè¡Œä¸ºï¼Œå®ç°å¯¹åœºæ™¯ä¸­æ¯ä¸ªå¯¹è±¡çš„ç²¾ç»†åŒ–æ§åˆ¶ã€‚

---

## äºŒã€å¸¸ç”¨æˆå‘˜æ–¹æ³•è¯¦è§£

### 2.1 æ¿€æ´»/ç¦ç”¨å¯¹è±¡ - SetActive

**ä½œç”¨**ï¼šæ¿€æ´»æˆ–ç¦ç”¨å½“å‰GameObjectã€‚

```csharp
// æ¿€æ´»å¯¹è±¡
gameObject.SetActive(true);

// ç¦ç”¨å¯¹è±¡
gameObject.SetActive(false);
```

> ğŸŒŸ **å…³é”®ç‚¹**ï¼š
> - `SetActive`æ˜¯GameObjectçš„æˆå‘˜æ–¹æ³•ï¼Œå¿…é¡»åœ¨å®ä¾‹ä¸Šè°ƒç”¨
> - ç¦ç”¨å¯¹è±¡ä¸ä¼šé”€æ¯ï¼Œåªæ˜¯ä¸æ¸²æŸ“å’Œæ›´æ–°
> - ç¦ç”¨å¯¹è±¡çš„å­å¯¹è±¡ä¹Ÿä¼šè¢«ç¦ç”¨
> - å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼ŒåŒ…æ‹¬Update

---

### 2.2 è·å–ç»„ä»¶ - GetComponent

**ä½œç”¨**ï¼šè·å–é™„åŠ åˆ°GameObjectä¸Šçš„æŒ‡å®šç»„ä»¶ã€‚

```csharp
// è·å–Transformç»„ä»¶
Transform transform = gameObject.GetComponent<Transform>();

// è·å–SpriteRendererç»„ä»¶
SpriteRenderer renderer = gameObject.GetComponent<SpriteRenderer>();

// è·å–è‡ªå®šä¹‰è„šæœ¬ç»„ä»¶
PlayerController player = gameObject.GetComponent<PlayerController>();
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - å¦‚æœç»„ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›`null`
> - é‡å¤è°ƒç”¨ä¼šé‡å¤è·å–ï¼Œå»ºè®®å­˜å‚¨ä¸ºå˜é‡
> - é€šè¿‡æ³›å‹å¯ä»¥æ›´å®‰å…¨åœ°è·å–ç»„ä»¶

---

### 2.3 æ·»åŠ ç»„ä»¶ - AddComponent

**ä½œç”¨**ï¼šä¸ºGameObjectæ·»åŠ æ–°çš„ç»„ä»¶ã€‚

```csharp
// æ·»åŠ Rigidbodyç»„ä»¶
Rigidbody rb = gameObject.AddComponent<Rigidbody>();

// æ·»åŠ è‡ªå®šä¹‰è„šæœ¬ç»„ä»¶
PlayerController player = gameObject.AddComponent<PlayerController>();
```

> ğŸŒŸ **å…³é”®ç‚¹**ï¼š
> - æ·»åŠ çš„ç»„ä»¶ä¼šç«‹å³ç”Ÿæ•ˆ
> - å¦‚æœç»„ä»¶å·²å­˜åœ¨ï¼Œä¸ä¼šé‡å¤æ·»åŠ 
> - å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼ŒåŒ…æ‹¬Update
> - é€šå¸¸åœ¨Awakeæˆ–Startä¸­ä½¿ç”¨ï¼Œé¿å…åœ¨Updateä¸­é¢‘ç¹è°ƒç”¨

---

### 2.4 è·å–çˆ¶å¯¹è±¡ - GetParent

**ä½œç”¨**ï¼šè·å–å½“å‰GameObjectçš„çˆ¶å¯¹è±¡ã€‚

```csharp
// è·å–çˆ¶å¯¹è±¡
Transform parent = gameObject.transform.parent;

// æ£€æŸ¥æ˜¯å¦æœ‰çˆ¶å¯¹è±¡
if (parent != null)
{
    Debug.Log("çˆ¶å¯¹è±¡: " + parent.name);
}
```

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - é€šè¿‡`transform.parent`è·å–çˆ¶å¯¹è±¡
> - ä¹Ÿå¯ä»¥ä½¿ç”¨`transform.root`è·å–æ ¹å¯¹è±¡
> - é€šè¿‡`transform.parent`å¯ä»¥æ£€æŸ¥å±‚çº§å…³ç³»

---

### 2.5 è·å–å­å¯¹è±¡ - GetChild

**ä½œç”¨**ï¼šè·å–å½“å‰GameObjectçš„å­å¯¹è±¡ã€‚

```csharp
// è·å–ç¬¬ä¸€ä¸ªå­å¯¹è±¡
Transform child = gameObject.transform.GetChild(0);

// è·å–æ‰€æœ‰å­å¯¹è±¡
for (int i = 0; i < gameObject.transform.childCount; i++)
{
    Transform child = gameObject.transform.GetChild(i);
    Debug.Log("å­å¯¹è±¡: " + child.name);
}
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - `GetChild`æ–¹æ³•ç´¢å¼•ä»0å¼€å§‹
> - `childCount`å±æ€§è¿”å›å­å¯¹è±¡æ•°é‡
> - å­å¯¹è±¡æ•°é‡å¯èƒ½å˜åŒ–ï¼Œéœ€è°¨æ…ä½¿ç”¨

---

### 2.6 è®¾ç½®ä½ç½® - SetPosition

**ä½œç”¨**ï¼šè®¾ç½®GameObjectçš„ä½ç½®ã€‚

```csharp
// è®¾ç½®ç»å¯¹ä½ç½®
gameObject.transform.position = new Vector3(0, 1, 0);

// ç›¸å¯¹ç§»åŠ¨
gameObject.transform.position += new Vector3(1, 0, 0);
```

> ğŸŒŸ **å…³é”®ç‚¹**ï¼š
> - é€šè¿‡`transform.position`è®¾ç½®ä½ç½®
> - ä½ç½®æ˜¯ç›¸å¯¹äºä¸–ç•Œåæ ‡ç³»çš„
> - å¯ä»¥é€šè¿‡`transform.Translate`è¿›è¡Œç›¸å¯¹ç§»åŠ¨

---

### 2.7 è·å–åå­— - GetName

**ä½œç”¨**ï¼šè·å–GameObjectçš„åç§°ã€‚

```csharp
// è·å–åç§°
string name = gameObject.name;

// ä¿®æ”¹åç§°
gameObject.name = "NewName";
```

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - åç§°æ˜¯ç”¨äºè°ƒè¯•å’Œè¯†åˆ«å¯¹è±¡
> - ä¸è¦é¢‘ç¹ä¿®æ”¹åç§°ï¼Œå¯èƒ½å½±å“æ€§èƒ½
> - é€šå¸¸åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®åç§°

---

### 2.8 è·å–å±‚çº§ - GetLayer

**ä½œç”¨**ï¼šè·å–GameObjectçš„å±‚çº§ã€‚

```csharp
// è·å–å±‚çº§
int layer = gameObject.layer;

// ä¿®æ”¹å±‚çº§
gameObject.layer = LayerMask.NameToLayer("Player");
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - å±‚çº§ç”¨äºç¢°æ’æ£€æµ‹å’Œæ¸²æŸ“
> - å¯ä»¥é€šè¿‡`LayerMask`æ“ä½œå±‚çº§
> - ä¿®æ”¹å±‚çº§å¯èƒ½å½±å“æ¸¸æˆé€»è¾‘

---

### 2.9 è·å–æ ‡ç­¾ - GetTag

**ä½œç”¨**ï¼šè·å–GameObjectçš„æ ‡ç­¾ã€‚

```csharp
// è·å–æ ‡ç­¾
string tag = gameObject.tag;

// ä¿®æ”¹æ ‡ç­¾
gameObject.tag = "Player";
```

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - æ ‡ç­¾ç”¨äºå¿«é€Ÿè¯†åˆ«å¯¹è±¡ç±»å‹
> - é€šå¸¸åœ¨Inspectorä¸­è®¾ç½®æ ‡ç­¾
> - ä¸è¦é¢‘ç¹ä¿®æ”¹æ ‡ç­¾ï¼Œå¯èƒ½å½±å“æ€§èƒ½

---

## ä¸‰ã€å®ç”¨ç¤ºä¾‹

### 3.1 æ¿€æ´»/ç¦ç”¨å¯¹è±¡

```csharp
using UnityEngine;

public class ObjectActivator : MonoBehaviour
{
    public bool isActive = true;
    
    void Start()
    {
        // æ ¹æ®isActiveè®¾ç½®å¯¹è±¡çŠ¶æ€
        gameObject.SetActive(isActive);
        
        // åœ¨5ç§’åç¦ç”¨å¯¹è±¡
        Invoke("DisableObject", 5.0f);
    }
    
    void DisableObject()
    {
        gameObject.SetActive(false);
    }
    
    void Update()
    {
        // æŒ‰ç©ºæ ¼é”®åˆ‡æ¢å¯¹è±¡æ¿€æ´»çŠ¶æ€
        if (Input.GetKeyDown(KeyCode.Space))
        {
            gameObject.SetActive(!gameObject.activeSelf);
        }
    }
}
```

---

### 3.2 è·å–å’Œä½¿ç”¨ç»„ä»¶

```csharp
using UnityEngine;

public class ComponentUsage : MonoBehaviour
{
    void Start()
    {
        // è·å–Transformç»„ä»¶
        Transform transform = gameObject.transform;
        Debug.Log("ä½ç½®: " + transform.position);
        
        // è·å–SpriteRendererç»„ä»¶
        SpriteRenderer renderer = gameObject.GetComponent<SpriteRenderer>();
        if (renderer != null)
        {
            renderer.color = Color.red;
        }
        
        // è·å–è‡ªå®šä¹‰è„šæœ¬ç»„ä»¶
        PlayerController player = gameObject.GetComponent<PlayerController>();
        if (player != null)
        {
            player.Initialize();
        }
    }
    
    void Update()
    {
        // é€šè¿‡GetComponentè·å–ç»„ä»¶ï¼Œé¿å…é‡å¤è·å–
        if (gameObject.activeSelf)
        {
            Transform transform = gameObject.transform;
            transform.Rotate(Vector3.up, 10 * Time.deltaTime);
        }
    }
}
```

---

### 3.3 å±‚çº§å…³ç³»æ“ä½œ

```csharp
using UnityEngine;

public class HierarchyManager : MonoBehaviour
{
    void Start()
    {
        // è·å–çˆ¶å¯¹è±¡
        Transform parent = transform.parent;
        if (parent != null)
        {
            Debug.Log("çˆ¶å¯¹è±¡: " + parent.name);
        }
        
        // è·å–æ‰€æœ‰å­å¯¹è±¡
        for (int i = 0; i < transform.childCount; i++)
        {
            Transform child = transform.GetChild(i);
            Debug.Log("å­å¯¹è±¡: " + child.name);
        }
        
        // åˆ›å»ºæ–°å­å¯¹è±¡
        GameObject newChild = new GameObject("NewChild");
        newChild.transform.SetParent(transform);
    }
    
    void Update()
    {
        // æŒ‰Fé”®åˆ‡æ¢çˆ¶å¯¹è±¡
        if (Input.GetKeyDown(KeyCode.F))
        {
            // è·å–å½“å‰çˆ¶å¯¹è±¡
            Transform currentParent = transform.parent;
            
            // åˆ›å»ºæ–°çˆ¶å¯¹è±¡
            GameObject newParent = new GameObject("NewParent");
            
            // è®¾ç½®æ–°çˆ¶å¯¹è±¡
            transform.SetParent(newParent.transform);
            
            // ä¿æŒä¸–ç•Œåæ ‡
            transform.position = newParent.transform.position;
        }
    }
}
```

---

## å››ã€æœ€ä½³å®è·µä¸å¸¸è§é”™è¯¯

### 4.1 æ€§èƒ½è€ƒè™‘

| æ–¹æ³• | æ€§èƒ½ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `GetComponent` | ä¸­ | ä»…åœ¨éœ€è¦æ—¶è·å–ç»„ä»¶ |
| `SetActive` | é«˜ | é¢‘ç¹è°ƒç”¨ï¼Œæ— æ€§èƒ½é—®é¢˜ |
| `AddComponent` | ä½ | ä»…åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨ |
| `transform.position` | é«˜ | é€šå¸¸åœ¨Updateä¸­ä½¿ç”¨ |
| `transform.parent` | é«˜ | é€šå¸¸åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨ |

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - **é¿å…åœ¨Updateä¸­é¢‘ç¹è°ƒç”¨`GetComponent`**
> - é€šå¸¸åœ¨Awakeæˆ–Startä¸­è·å–ç»„ä»¶å¹¶å­˜å‚¨ä¸ºå˜é‡
> - ä½¿ç”¨`SetActive`æ—¶ï¼Œè€ƒè™‘å¯¹è±¡çš„å±‚çº§å…³ç³»
> - é¿å…åœ¨Updateä¸­åˆ›å»ºæˆ–é”€æ¯å¯¹è±¡

---

### 4.2 å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ

| é”™è¯¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| `GetComponent` åœ¨Updateä¸­é¢‘ç¹è°ƒç”¨ | æ¯å¸§è·å–ç»„ä»¶ï¼Œæ€§èƒ½ä½ä¸‹ | åœ¨Awake/Startä¸­è·å–å¹¶å­˜å‚¨ |
| `AddComponent` åœ¨Updateä¸­è°ƒç”¨ | æ¯å¸§æ·»åŠ ç»„ä»¶ï¼Œå¯¼è‡´æ€§èƒ½é—®é¢˜ | ä»…åœ¨åˆå§‹åŒ–æ—¶æ·»åŠ  |
| `transform.parent` æœªæ£€æŸ¥null | å¯èƒ½å¯¼è‡´NullReferenceException | æ·»åŠ nullæ£€æŸ¥ |
| `SetActive` æœªè€ƒè™‘å±‚çº§ | ç¦ç”¨çˆ¶å¯¹è±¡æ—¶ï¼Œå­å¯¹è±¡ä¹Ÿä¼šè¢«ç¦ç”¨ | è€ƒè™‘å±‚çº§å…³ç³» |
| `name` é¢‘ç¹ä¿®æ”¹ | æ¯å¸§ä¿®æ”¹åç§°ï¼Œå¯èƒ½å½±å“æ€§èƒ½ | ä»…åœ¨åˆå§‹åŒ–æ—¶è®¾ç½® |

---

## äº”ã€æ€»ç»“ï¼šGameObjectæˆå‘˜æ–¹æ³•é»„é‡‘æ³•åˆ™

1. **`SetActive`**ï¼š**æ¨è**ç”¨äºæ¿€æ´»/ç¦ç”¨å¯¹è±¡ï¼Œæ€§èƒ½é«˜
2. **`GetComponent`**ï¼š**é¿å…**åœ¨Updateä¸­é¢‘ç¹è°ƒç”¨ï¼Œå­˜å‚¨ä¸ºå˜é‡
3. **`AddComponent`**ï¼š**ä»…**åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨
4. **`transform.parent`**ï¼š**è€ƒè™‘**å±‚çº§å…³ç³»ï¼Œé¿å…æ„å¤–è¡Œä¸º
5. **`transform.position`**ï¼š**æ¨è**ç”¨äºä½ç½®æ“ä½œ
6. **`name`**ï¼š**é¿å…**é¢‘ç¹ä¿®æ”¹ï¼Œä»…åœ¨åˆå§‹åŒ–æ—¶è®¾ç½®
7. **`layer`**ï¼š**è°¨æ…**ä¿®æ”¹ï¼Œå½±å“ç¢°æ’å’Œæ¸²æŸ“
8. **`tag`**ï¼š**æ¨è**ç”¨äºå¯¹è±¡åˆ†ç±»ï¼Œé¿å…é¢‘ç¹ä¿®æ”¹

> âœ¨ **ç»ˆææç¤º**ï¼š  
> "GameObjectæˆå‘˜æ–¹æ³•æ˜¯Unityä¸­**å¯¹è±¡æ“ä½œ**çš„æ ¸å¿ƒï¼Œ  
> ç†è§£å®ƒä»¬ï¼Œä½ å°±èƒ½åœ¨åœºæ™¯ä¸­**ç²¾ç¡®åœ°æ§åˆ¶æ¯ä¸ªå¯¹è±¡**ï¼›  
> ç”¨å¥½å®ƒä»¬ï¼Œä½ çš„æ¸¸æˆå°†æ›´åŠ **å¯æ§è€Œç¨³å®š**ï¼"